<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API · SaguaroTrader.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link rel="canonical" href="https://SaguaroCapital.github.io/SaguaroTrader.jl/api/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="SaguaroTrader.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">SaguaroTrader.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>API</a><ul class="internal"><li class="toplevel"><a class="tocitem" href="#Asset"><span>Asset</span></a></li><li class="toplevel"><a class="tocitem" href="#Order"><span>Order</span></a></li><li class="toplevel"><a class="tocitem" href="#Portfolio-Optimization"><span>Portfolio Optimization</span></a></li><li class="toplevel"><a class="tocitem" href="#Exchange"><span>Exchange</span></a></li><li class="toplevel"><a class="tocitem" href="#Fee-Model"><span>Fee Model</span></a></li><li class="toplevel"><a class="tocitem" href="#Data-Source"><span>Data Source</span></a></li><li class="toplevel"><a class="tocitem" href="#Data-Handler"><span>Data Handler</span></a></li><li class="toplevel"><a class="tocitem" href="#Transaction"><span>Transaction</span></a></li><li class="toplevel"><a class="tocitem" href="#Position"><span>Position</span></a></li><li class="toplevel"><a class="tocitem" href="#Portfolio"><span>Portfolio</span></a></li><li class="toplevel"><a class="tocitem" href="#Alpha-Model"><span>Alpha Model</span></a></li><li class="toplevel"><a class="tocitem" href="#Slippage-Model"><span>Slippage Model</span></a></li><li class="toplevel"><a class="tocitem" href="#Broker"><span>Broker</span></a></li><li class="toplevel"><a class="tocitem" href="#Order-Sizer"><span>Order Sizer</span></a></li><li class="toplevel"><a class="tocitem" href="#Portfolio-Construction-Model"><span>Portfolio Construction Model</span></a></li><li class="toplevel"><a class="tocitem" href="#Rebalance"><span>Rebalance</span></a></li></ul></li><li><a class="tocitem" href="../examples/">Examples</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="API"><a class="docs-heading-anchor" href="#API">API</a><a id="API-1"></a><a class="docs-heading-anchor-permalink" href="#API" title="Permalink"></a></h1><ul><li><a href="#SaguaroTrader.AlphaModel"><code>SaguaroTrader.AlphaModel</code></a></li><li><a href="#SaguaroTrader.AlwaysOpenExchange"><code>SaguaroTrader.AlwaysOpenExchange</code></a></li><li><a href="#SaguaroTrader.Asset"><code>SaguaroTrader.Asset</code></a></li><li><a href="#SaguaroTrader.BacktestDataHandler"><code>SaguaroTrader.BacktestDataHandler</code></a></li><li><a href="#SaguaroTrader.BuyAndHoldRebalance"><code>SaguaroTrader.BuyAndHoldRebalance</code></a></li><li><a href="#SaguaroTrader.CSVDailyBarSource"><code>SaguaroTrader.CSVDailyBarSource</code></a></li><li><a href="#SaguaroTrader.Cash"><code>SaguaroTrader.Cash</code></a></li><li><a href="#SaguaroTrader.DailyRebalance"><code>SaguaroTrader.DailyRebalance</code></a></li><li><a href="#SaguaroTrader.DataHandler"><code>SaguaroTrader.DataHandler</code></a></li><li><a href="#SaguaroTrader.DataSource"><code>SaguaroTrader.DataSource</code></a></li><li><a href="#SaguaroTrader.DollarWeightedOrderSizer"><code>SaguaroTrader.DollarWeightedOrderSizer</code></a></li><li><a href="#SaguaroTrader.DynamicUniverse"><code>SaguaroTrader.DynamicUniverse</code></a></li><li><a href="#SaguaroTrader.EqualWeightPortfolioOptimizer"><code>SaguaroTrader.EqualWeightPortfolioOptimizer</code></a></li><li><a href="#SaguaroTrader.Equity"><code>SaguaroTrader.Equity</code></a></li><li><a href="#SaguaroTrader.Exchange"><code>SaguaroTrader.Exchange</code></a></li><li><a href="#SaguaroTrader.FeeModel"><code>SaguaroTrader.FeeModel</code></a></li><li><a href="#SaguaroTrader.FixedSignalsAlphaModel"><code>SaguaroTrader.FixedSignalsAlphaModel</code></a></li><li><a href="#SaguaroTrader.FixedSlippageModel"><code>SaguaroTrader.FixedSlippageModel</code></a></li><li><a href="#SaguaroTrader.FixedWeightPortfolioOptimizer"><code>SaguaroTrader.FixedWeightPortfolioOptimizer</code></a></li><li><a href="#SaguaroTrader.LongShortOrderSizer"><code>SaguaroTrader.LongShortOrderSizer</code></a></li><li><a href="#SaguaroTrader.MonthlyRebalance"><code>SaguaroTrader.MonthlyRebalance</code></a></li><li><a href="#SaguaroTrader.Order"><code>SaguaroTrader.Order</code></a></li><li><a href="#SaguaroTrader.OrderSizer"><code>SaguaroTrader.OrderSizer</code></a></li><li><a href="#SaguaroTrader.PercentFeeModel"><code>SaguaroTrader.PercentFeeModel</code></a></li><li><a href="#SaguaroTrader.PercentSlippageModel"><code>SaguaroTrader.PercentSlippageModel</code></a></li><li><a href="#SaguaroTrader.Portfolio"><code>SaguaroTrader.Portfolio</code></a></li><li><a href="#SaguaroTrader.PortfolioConstructionModel"><code>SaguaroTrader.PortfolioConstructionModel</code></a></li><li><a href="#SaguaroTrader.PortfolioEvent"><code>SaguaroTrader.PortfolioEvent</code></a></li><li><a href="#SaguaroTrader.PortfolioOptimizer"><code>SaguaroTrader.PortfolioOptimizer</code></a></li><li><a href="#SaguaroTrader.Position"><code>SaguaroTrader.Position</code></a></li><li><a href="#SaguaroTrader.PositionHandler"><code>SaguaroTrader.PositionHandler</code></a></li><li><a href="#SaguaroTrader.Rebalance"><code>SaguaroTrader.Rebalance</code></a></li><li><a href="#SaguaroTrader.RollingSignalsAlphaModel"><code>SaguaroTrader.RollingSignalsAlphaModel</code></a></li><li><a href="#SaguaroTrader.SimulatedBroker"><code>SaguaroTrader.SimulatedBroker</code></a></li><li><a href="#SaguaroTrader.SimulatedExchange"><code>SaguaroTrader.SimulatedExchange</code></a></li><li><a href="#SaguaroTrader.SingleSignalAlphaModel"><code>SaguaroTrader.SingleSignalAlphaModel</code></a></li><li><a href="#SaguaroTrader.SlippageModel"><code>SaguaroTrader.SlippageModel</code></a></li><li><a href="#SaguaroTrader.StaticUniverse"><code>SaguaroTrader.StaticUniverse</code></a></li><li><a href="#SaguaroTrader.Transaction"><code>SaguaroTrader.Transaction</code></a></li><li><a href="#SaguaroTrader.Universe"><code>SaguaroTrader.Universe</code></a></li><li><a href="#SaguaroTrader.VolumeSharesSlippageModel"><code>SaguaroTrader.VolumeSharesSlippageModel</code></a></li><li><a href="#SaguaroTrader.ZeroFeeModel"><code>SaguaroTrader.ZeroFeeModel</code></a></li><li><a href="#SaguaroTrader.ZeroSlippageModel"><code>SaguaroTrader.ZeroSlippageModel</code></a></li><li><a href="#SaguaroTrader.calculate_fee"><code>SaguaroTrader.calculate_fee</code></a></li><li><a href="#SaguaroTrader.cost_with_fee"><code>SaguaroTrader.cost_with_fee</code></a></li><li><a href="#SaguaroTrader.cost_without_fee"><code>SaguaroTrader.cost_without_fee</code></a></li><li><a href="#SaguaroTrader.create_asset_transaction"><code>SaguaroTrader.create_asset_transaction</code></a></li><li><a href="#SaguaroTrader.create_portfolio!"><code>SaguaroTrader.create_portfolio!</code></a></li><li><a href="#SaguaroTrader.create_subscription"><code>SaguaroTrader.create_subscription</code></a></li><li><a href="#SaguaroTrader.create_withdrawal"><code>SaguaroTrader.create_withdrawal</code></a></li><li><a href="#SaguaroTrader.get_ask"><code>SaguaroTrader.get_ask</code></a></li><li><a href="#SaguaroTrader.get_asset_latest_bid_ask_price"><code>SaguaroTrader.get_asset_latest_bid_ask_price</code></a></li><li><a href="#SaguaroTrader.get_asset_latest_mid_price"><code>SaguaroTrader.get_asset_latest_mid_price</code></a></li><li><a href="#SaguaroTrader.get_assets_historical_bids"><code>SaguaroTrader.get_assets_historical_bids</code></a></li><li><a href="#SaguaroTrader.get_assets_historical_range_close_price"><code>SaguaroTrader.get_assets_historical_range_close_price</code></a></li><li><a href="#SaguaroTrader.get_bid"><code>SaguaroTrader.get_bid</code></a></li><li><a href="#SaguaroTrader.position_from_transaction"><code>SaguaroTrader.position_from_transaction</code></a></li><li><a href="#SaguaroTrader.subscribe_funds!"><code>SaguaroTrader.subscribe_funds!</code></a></li><li><a href="#SaguaroTrader.subscribe_funds_to_portfolio!"><code>SaguaroTrader.subscribe_funds_to_portfolio!</code></a></li><li><a href="#SaguaroTrader.total_equity"><code>SaguaroTrader.total_equity</code></a></li><li><a href="#SaguaroTrader.total_market_value"><code>SaguaroTrader.total_market_value</code></a></li><li><a href="#SaguaroTrader.withdraw_funds!"><code>SaguaroTrader.withdraw_funds!</code></a></li><li><a href="#SaguaroTrader.withdraw_funds_from_portfolio!"><code>SaguaroTrader.withdraw_funds_from_portfolio!</code></a></li></ul><h1 id="Asset"><a class="docs-heading-anchor" href="#Asset">Asset</a><a id="Asset-1"></a><a class="docs-heading-anchor-permalink" href="#Asset" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.Asset" href="#SaguaroTrader.Asset"><code>SaguaroTrader.Asset</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Metadata about an Asset</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.Cash" href="#SaguaroTrader.Cash"><code>SaguaroTrader.Cash</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Equity asset type.</p><p><strong>Fields</strong></p><ul><li><code>currency::String</code> - currency of the cash</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.Equity" href="#SaguaroTrader.Equity"><code>SaguaroTrader.Equity</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Equity asset type.</p><p><strong>Fields</strong></p><ul><li><code>symbol::Symbol</code> - asset symbol</li><li><code>name::String</code> - name of the asset</li><li><code>tax_exempt::Bool=false</code> - asset tax exemption status</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.Universe" href="#SaguaroTrader.Universe"><code>SaguaroTrader.Universe</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Abstract type for asset universes</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.DynamicUniverse" href="#SaguaroTrader.DynamicUniverse"><code>SaguaroTrader.DynamicUniverse</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Dynamic asset universe. Each asset has a start date</p><p><strong>Parameters</strong></p><ul><li><code>asset_dates::Vector{Dict{Symbol,DateTime}}</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.StaticUniverse" href="#SaguaroTrader.StaticUniverse"><code>SaguaroTrader.StaticUniverse</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Satatic asset universe</p><p><strong>Parameters</strong></p><ul><li><code>asset_dates::Vector{Dict{Symbol,DateTime}}</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><h1 id="Order"><a class="docs-heading-anchor" href="#Order">Order</a><a id="Order-1"></a><a class="docs-heading-anchor-permalink" href="#Order" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.Order" href="#SaguaroTrader.Order"><code>SaguaroTrader.Order</code></a> — <span class="docstring-category">Type</span></header><section><div><p>This is an <code>Order</code> for an asset.</p><p><strong>Fields</strong></p><ul><li><code>created_dt::DateTime</code> - datetime that the order was placed</li><li><code>quantity::Real</code> - order quantity </li><li><code>asset::Asset</code> - order asset</li><li><code>fee::Float64</code> - order fee</li><li><code>order_id::String</code> - unique order id</li><li><code>direction::Int</code>  1=&gt;buy, -1=&gt;sell</li><li><code>direction::Float64</code> - Asset volume (for predicting slippage)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><h1 id="Portfolio-Optimization"><a class="docs-heading-anchor" href="#Portfolio-Optimization">Portfolio Optimization</a><a id="Portfolio-Optimization-1"></a><a class="docs-heading-anchor-permalink" href="#Portfolio-Optimization" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.PortfolioOptimizer" href="#SaguaroTrader.PortfolioOptimizer"><code>SaguaroTrader.PortfolioOptimizer</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Abstract type for portfolio optimization.</p><pre><code class="language-julia hljs">generate_weights(opt::PortfolioOptimizer, initial_weights)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.FixedWeightPortfolioOptimizer" href="#SaguaroTrader.FixedWeightPortfolioOptimizer"><code>SaguaroTrader.FixedWeightPortfolioOptimizer</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Portfolio optimizer for fixed asset weights</p><p><strong>Fields</strong></p><ul><li><code>data_handler::DataHandler</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.EqualWeightPortfolioOptimizer" href="#SaguaroTrader.EqualWeightPortfolioOptimizer"><code>SaguaroTrader.EqualWeightPortfolioOptimizer</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Portfolio optimizer for fixed asset weights</p><p><strong>Fields</strong></p><ul><li><code>data_handler::DataHandler</code></li><li><code>scale::Float64</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><h1 id="Exchange"><a class="docs-heading-anchor" href="#Exchange">Exchange</a><a id="Exchange-1"></a><a class="docs-heading-anchor-permalink" href="#Exchange" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.Exchange" href="#SaguaroTrader.Exchange"><code>SaguaroTrader.Exchange</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Abstract type for trading exchange</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.SimulatedExchange" href="#SaguaroTrader.SimulatedExchange"><code>SaguaroTrader.SimulatedExchange</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Simulate live trading</p><p><strong>Fields</strong></p><ul><li><code>start_dt::DateTime</code></li><li><code>open_time::Time=Time(14,30)</code></li><li><code>close_time::Time=Time(21,00)</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.AlwaysOpenExchange" href="#SaguaroTrader.AlwaysOpenExchange"><code>SaguaroTrader.AlwaysOpenExchange</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Simulate an exchange that never closes</p><p><strong>Fields</strong></p><ul><li><code>start_dt::DateTime</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><h1 id="Fee-Model"><a class="docs-heading-anchor" href="#Fee-Model">Fee Model</a><a id="Fee-Model-1"></a><a class="docs-heading-anchor-permalink" href="#Fee-Model" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.FeeModel" href="#SaguaroTrader.FeeModel"><code>SaguaroTrader.FeeModel</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Abstract type to handle the calculation of  brokerage fee, fees and taxes.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.ZeroFeeModel" href="#SaguaroTrader.ZeroFeeModel"><code>SaguaroTrader.ZeroFeeModel</code></a> — <span class="docstring-category">Type</span></header><section><div><p>A FeeModel that produces no fee/fees/taxes.</p><p>total_fee = 0.0</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.PercentFeeModel" href="#SaguaroTrader.PercentFeeModel"><code>SaguaroTrader.PercentFeeModel</code></a> — <span class="docstring-category">Type</span></header><section><div><p>A Fee model that calculates tax and fee fees using a percentage of the total order price (considaration). </p><p>fee<em>fee = (order.price * order.quantity) * fee</em>model.fee<em>pct tax</em>fee = (order.price * order.quantity) * fee<em>model.tax</em>pct total<em>fee = tax</em>fee + fee_fee</p><p><strong>Fields</strong></p><ul><li><code>fee_pct::Float64</code> = 0.0</li><li><code>tax_pct::Float64</code> = 0.0</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.calculate_fee" href="#SaguaroTrader.calculate_fee"><code>SaguaroTrader.calculate_fee</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">calculate_fee(fee_model::FeeModel, quantity::Real, price::Float64)</code></pre><p>Calculate the fee for an order</p><p><strong>Parameters</strong></p><ul><li><code>fee_model::FeeModel</code></li><li><code>quantity::Real</code></li><li><code>price::Float64</code></li></ul><p><strong>Returns</strong></p><ul><li><code>Float64</code>: The total fee for the order (tax + fee)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><h1 id="Data-Source"><a class="docs-heading-anchor" href="#Data-Source">Data Source</a><a id="Data-Source-1"></a><a class="docs-heading-anchor-permalink" href="#Data-Source" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.DataSource" href="#SaguaroTrader.DataSource"><code>SaguaroTrader.DataSource</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Abstract type for a data source. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.CSVDailyBarSource" href="#SaguaroTrader.CSVDailyBarSource"><code>SaguaroTrader.CSVDailyBarSource</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Encapsulates loading, preparation and querying of CSV files of daily &#39;bar&#39; OHLCV data. The CSV files are converted into a intraday timestamped Pandas DataFrame with opening and closing prices.</p><p>Optionally utilises adjusted closing prices (if available) to adjust both the close and open.</p><p><strong>Fields</strong></p><ul><li><code>csv_dir::String</code>   The full path to the directory where the CSV is located.</li><li><code>asset_type::String</code>   The asset type that the price/volume data is for.</li><li><code>adjust_prices::String</code>   Whether to utilise corporate-action adjusted prices for both   the open and closing prices. Defaults to True.</li><li><code>csv_symbols::Vector</code>   An optional list of CSV symbols to restrict the data source to.   The alternative is to convert all CSVs found within the   provided directory.</li><li><code>dict_asset_dfs::Dict{Symbol, DataFrame}</code>   Automatically generated dictionary of asset symbols, and    pricing dataframes</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.get_bid" href="#SaguaroTrader.get_bid"><code>SaguaroTrader.get_bid</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">get_bid(ds::CSVDailyBarSource, dt::DateTime, asset::Symbol)</code></pre><p>Get the bid price for an asset at a certain time.</p><p><strong>Parameters</strong></p><ul><li><code>ds::CSVDailyBarSource</code></li><li><code>dt::DateTime</code></li><li><code>asset::Symbol</code></li></ul><p><strong>Returns</strong></p><ul><li><code>Float64</code>: bid for an asset at the given datetime</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.get_ask" href="#SaguaroTrader.get_ask"><code>SaguaroTrader.get_ask</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">get_ask(ds::CSVDailyBarSource, dt::DateTime, asset::Symbol)</code></pre><p>Get the ask price for an asset at a certain time.</p><p><strong>Parameters</strong></p><ul><li><code>ds::CSVDailyBarSource</code></li><li><code>dt::DateTime</code></li><li><code>asset::Symbol</code></li></ul><p><strong>Returns</strong></p><ul><li><code>Float64</code>: ask for an asset at the given datetime</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.get_assets_historical_bids" href="#SaguaroTrader.get_assets_historical_bids"><code>SaguaroTrader.get_assets_historical_bids</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">get_ask(ds::CSVDailyBarSource, dt::DateTime, asset::Symbol)</code></pre><p>Obtain a multi-asset historical range of closing prices as a DataFrame</p><p><strong>Parameters</strong></p><ul><li><code>ds::CSVDailyBarSource</code></li><li><code>start_dt::DateTime</code></li><li><code>end_dt::DateTime</code></li><li><code>asset::Symbol</code></li></ul><p><strong>Returns</strong></p><ul><li><code>DataFrame</code>: Dataframe with the bid timestamps, asset symbols, and</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><h1 id="Data-Handler"><a class="docs-heading-anchor" href="#Data-Handler">Data Handler</a><a id="Data-Handler-1"></a><a class="docs-heading-anchor-permalink" href="#Data-Handler" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.DataHandler" href="#SaguaroTrader.DataHandler"><code>SaguaroTrader.DataHandler</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Abstract type for a data handler.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.BacktestDataHandler" href="#SaguaroTrader.BacktestDataHandler"><code>SaguaroTrader.BacktestDataHandler</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Data Handler for backtesting Fields –––</p><ul><li><code>data_sources::Vector{DataSource}</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.get_asset_latest_bid_ask_price" href="#SaguaroTrader.get_asset_latest_bid_ask_price"><code>SaguaroTrader.get_asset_latest_bid_ask_price</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">get_asset_latest_bid_ask_price(dh::DataHandler, dt::DateTime, asset::Symbol)</code></pre><p>Get the bid, ask price for an asset at a certain time.</p><p><strong>Parameters</strong></p><ul><li><code>dh::DataHandler</code></li><li><code>dt::DateTime</code></li><li><code>asset::Symbol</code></li></ul><p><strong>Returns</strong></p><ul><li><code>Tuple{Float64, Float64}</code>: (bid, ask) for an asset at the given datetime</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.get_asset_latest_mid_price" href="#SaguaroTrader.get_asset_latest_mid_price"><code>SaguaroTrader.get_asset_latest_mid_price</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">get_asset_latest_mid_price(dh::DataHandler, dt::DateTime, asset::Symbol)</code></pre><p>Get the average of bid/ask price for an asset at a certain time.</p><p><strong>Parameters</strong></p><ul><li><code>dh::DataHandler</code></li><li><code>dt::DateTime</code></li><li><code>asset::Symbol</code></li></ul><p><strong>Returns</strong></p><ul><li><code>Float64</code>: mid point between bid/ask for an asset at the given datetime</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.get_assets_historical_range_close_price" href="#SaguaroTrader.get_assets_historical_range_close_price"><code>SaguaroTrader.get_assets_historical_range_close_price</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">get_assets_historical_range_close_price(
    dh::DataHandler,
    start_dt::DateTime,
    end_dt::DateTime,
    assets::Vector{Symbol},
)  </code></pre><p>All closing prices for the given assets in the given timerange</p><p><strong>Parameters</strong></p><ul><li><code>dh::DataHandler</code></li><li><code>start_dt::DateTime</code></li><li><code>end_dt::DateTime</code></li><li><code>asset::Vector{Symbol}</code></li></ul><p><strong>Returns</strong></p><ul><li><code>DataFrame</code>: dataframe of close prices for the assets</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><h1 id="Transaction"><a class="docs-heading-anchor" href="#Transaction">Transaction</a><a id="Transaction-1"></a><a class="docs-heading-anchor-permalink" href="#Transaction" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.Transaction" href="#SaguaroTrader.Transaction"><code>SaguaroTrader.Transaction</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Metadata about a transaction of an asset</p><p><strong>Fields</strong></p><ul><li><code>asset::Symbol</code></li><li><code>quantity::Float64</code></li><li><code>dt::DateTime</code></li><li><code>price::Float64</code></li><li><code>fee::Float64</code></li><li><code>order_id::String</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.cost_without_fee" href="#SaguaroTrader.cost_without_fee"><code>SaguaroTrader.cost_without_fee</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">cost_without_fee(txn::Transaction)</code></pre><p>Cost of a transaction without fee</p><p><strong>Parameters</strong></p><ul><li><code>txn::Transaction</code></li></ul><p><strong>Returns</strong></p><ul><li><code>Float64</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.cost_with_fee" href="#SaguaroTrader.cost_with_fee"><code>SaguaroTrader.cost_with_fee</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">cost_with_fee(txn::Transaction)</code></pre><p>Cost of a transaction with fee</p><p><strong>Parameters</strong></p><ul><li><code>txn::Transaction</code></li></ul><p><strong>Returns</strong></p><ul><li><code>Float64</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><h1 id="Position"><a class="docs-heading-anchor" href="#Position">Position</a><a id="Position-1"></a><a class="docs-heading-anchor-permalink" href="#Position" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.Position" href="#SaguaroTrader.Position"><code>SaguaroTrader.Position</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Handles the accounting of a position in an asset.</p><p><strong>Fields</strong></p><ul><li><code>asset::Symbol</code></li><li><code>current_price::Float64</code></li><li><code>current_dt::DateTime</code></li><li><code>buy_quantity::Float64</code></li><li><code>sell_quantity::Float64</code></li><li><code>net_quantity::Float64</code></li><li><code>avg_bought::Float64</code></li><li><code>avg_sold::Float64</code></li><li><code>buy_fee::Float64</code></li><li><code>sell_fee::Float64</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.position_from_transaction" href="#SaguaroTrader.position_from_transaction"><code>SaguaroTrader.position_from_transaction</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">position_from_transaction(txn::Transaction)::Position</code></pre><p>Create a position using a transaction</p><p><strong>Parameters</strong></p><ul><li><code>txn::Transaction</code></li></ul><p><strong>Returns</strong></p><ul><li><code>Position</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.PositionHandler" href="#SaguaroTrader.PositionHandler"><code>SaguaroTrader.PositionHandler</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Store all open positions</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><h1 id="Portfolio"><a class="docs-heading-anchor" href="#Portfolio">Portfolio</a><a id="Portfolio-1"></a><a class="docs-heading-anchor-permalink" href="#Portfolio" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.PortfolioEvent" href="#SaguaroTrader.PortfolioEvent"><code>SaguaroTrader.PortfolioEvent</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Snapshot of the portfolio at a given time. </p><p><strong>Fields</strong></p><ul><li><code>dt::DateTime</code> </li><li><code>type::String</code></li><li><code>debit::Float64</code></li><li><code>credit::Float64</code></li><li><code>balance::Float64</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.create_subscription" href="#SaguaroTrader.create_subscription"><code>SaguaroTrader.create_subscription</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">create_subscription(dt::DateTime, credit::Float64, balance::Float64)</code></pre><p>Create a subscription portolio event</p><p><strong>Parameters</strong></p><ul><li><code>dt::DateTime</code></li><li><code>credit::Float64</code></li><li><code>balance::Float64</code></li></ul><p><strong>Returns</strong></p><ul><li><code>PortfolioEvent</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.create_withdrawal" href="#SaguaroTrader.create_withdrawal"><code>SaguaroTrader.create_withdrawal</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">create_withdrawal(dt::DateTime, credit::Float64, balance::Float64)</code></pre><p>Create a withdrawal portolio event</p><p><strong>Parameters</strong></p><ul><li><code>dt::DateTime</code></li><li><code>credit::Float64</code></li><li><code>balance::Float64</code></li></ul><p><strong>Returns</strong></p><ul><li><code>PortfolioEvent</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.create_asset_transaction" href="#SaguaroTrader.create_asset_transaction"><code>SaguaroTrader.create_asset_transaction</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">create_asset_transaction(
    dt::DateTime,
    txn_total_cost::Float64,
    balance::Float64,
    direction::Int,
)</code></pre><p>Create an asset buy/sell portfolio event</p><p><strong>Parameters</strong></p><ul><li><code>dt::DateTime</code></li><li><code>txn_total_cost::Float64</code></li><li><code>balance::Float64</code></li><li><code>direction::Int</code></li></ul><p><strong>Returns</strong></p><ul><li><code>PortfolioEvent</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.Portfolio" href="#SaguaroTrader.Portfolio"><code>SaguaroTrader.Portfolio</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Portfolio</p><p><strong>Fields</strong></p><ul><li><code>current_dt::DateTime</code></li><li><code>cash::Float64</code></li><li><code>currency::String</code></li><li><code>pos_handler::PositionHandler</code></li><li><code>portfolio_id::String</code></li><li><code>name::String</code></li><li><code>history::Vector{PortfolioEvent}</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.total_market_value" href="#SaguaroTrader.total_market_value"><code>SaguaroTrader.total_market_value</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">total_market_value(pos_handler::PositionHandler)</code></pre><p>Total market value of all open positions</p><p><strong>Parameters</strong></p><ul><li><code>pos_handler::PositionHandler</code></li></ul><p><strong>Returns</strong></p><ul><li><code>Float64</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section><section><div><pre><code class="language-julia hljs">total_market_value(port::Portfolio)</code></pre><p>Total market value of the portfolio excluding cash.</p><p><strong>Parameters</strong></p><ul><li><code>ord1::Order</code></li><li><code>ord2::Order</code></li></ul><p><strong>Returns</strong></p><ul><li><code>Float64</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.total_equity" href="#SaguaroTrader.total_equity"><code>SaguaroTrader.total_equity</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">total_equity(port::Portfolio)</code></pre><p>Total market value of the portfolio including cash.</p><p><strong>Parameters</strong></p><ul><li><code>ord1::Order</code></li><li><code>ord2::Order</code></li></ul><p><strong>Returns</strong></p><ul><li><code>Float64</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><h1 id="Alpha-Model"><a class="docs-heading-anchor" href="#Alpha-Model">Alpha Model</a><a id="Alpha-Model-1"></a><a class="docs-heading-anchor-permalink" href="#Alpha-Model" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.AlphaModel" href="#SaguaroTrader.AlphaModel"><code>SaguaroTrader.AlphaModel</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Abstract type for alpha models</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.FixedSignalsAlphaModel" href="#SaguaroTrader.FixedSignalsAlphaModel"><code>SaguaroTrader.FixedSignalsAlphaModel</code></a> — <span class="docstring-category">Type</span></header><section><div><p>A simple AlphaModel that provides a single scalar forecast value for each Asset in the Universe.</p><p><strong>Fields</strong></p><ul><li><code>signal_weights::Dict{Symbol,Float64}</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.RollingSignalsAlphaModel" href="#SaguaroTrader.RollingSignalsAlphaModel"><code>SaguaroTrader.RollingSignalsAlphaModel</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Signals that change through time. Produces the most recent signal at a given time</p><p><strong>Fields</strong></p><ul><li><code>dict_signal_weights::Dict{DateTime, Dict{Asset,Float64}}</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.SingleSignalAlphaModel" href="#SaguaroTrader.SingleSignalAlphaModel"><code>SaguaroTrader.SingleSignalAlphaModel</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Fixed signal for all assets in the universe</p><p><strong>Fields</strong></p><ul><li><code>universe::Universe</code></li><li><code>signal::Float64</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><h1 id="Slippage-Model"><a class="docs-heading-anchor" href="#Slippage-Model">Slippage Model</a><a id="Slippage-Model-1"></a><a class="docs-heading-anchor-permalink" href="#Slippage-Model" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.SlippageModel" href="#SaguaroTrader.SlippageModel"><code>SaguaroTrader.SlippageModel</code></a> — <span class="docstring-category">Type</span></header><section><div><p>abstract type for slippage models</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.ZeroSlippageModel" href="#SaguaroTrader.ZeroSlippageModel"><code>SaguaroTrader.ZeroSlippageModel</code></a> — <span class="docstring-category">Type</span></header><section><div><p>A SlippageModel that produces no slippage.</p><p><strong>Returns</strong></p><ul><li><code>Float64</code>: The original price</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.FixedSlippageModel" href="#SaguaroTrader.FixedSlippageModel"><code>SaguaroTrader.FixedSlippageModel</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Fixed spread for all assets</p><p>Buy orders will execute at <code>ask + spread / 2</code> Sell orders will execute at <code>bid - spread / 2</code></p><p><strong>Fields</strong></p><ul><li><code>spread::Float64</code></li></ul><p><strong>Returns</strong></p><ul><li><code>Float64</code>: The price including slippage</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.PercentSlippageModel" href="#SaguaroTrader.PercentSlippageModel"><code>SaguaroTrader.PercentSlippageModel</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Spread is a percent of the asset price</p><p>Buy orders will execute at <code>ask * (1 + (slippage_pct/100))</code> Sell orders will execute at <code>bid * (1 - (slippage_pct/100))</code></p><p><strong>Fields</strong></p><ul><li><code>slippage_pct::Float64</code></li></ul><p><strong>Returns</strong></p><ul><li><code>Float64</code>: The price including slippage</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.VolumeSharesSlippageModel" href="#SaguaroTrader.VolumeSharesSlippageModel"><code>SaguaroTrader.VolumeSharesSlippageModel</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Slippage is based on the ratio of order volume to total volume</p><p>Buy orders will execute at <code>ask + (volume_share^2 * price_impact * price * direction)</code> Sell orders will execute at <code>bid - (volume_share^2 * price_impact * price * direction)</code></p><p><strong>Fields</strong></p><ul><li><code>price_impact::Float64=0.1</code> - The scaling coefficient for price impact. Larger values will result in larger price impacts.</li></ul><p><strong>Returns</strong></p><ul><li><code>Float64</code>: The price including slippage</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><h1 id="Broker"><a class="docs-heading-anchor" href="#Broker">Broker</a><a id="Broker-1"></a><a class="docs-heading-anchor-permalink" href="#Broker" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.SimulatedBroker" href="#SaguaroTrader.SimulatedBroker"><code>SaguaroTrader.SimulatedBroker</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Simlated broker for transacting assets</p><p><strong>Fields</strong></p><ul><li><code>start_dt::DateTime</code></li><li><code>current_dt::DateTime</code></li><li><code>exchange::Exchange</code></li><li><code>data_handler::DataHandler</code></li><li><code>account_id::String</code></li><li><code>base_currency::String</code></li><li><code>initial_cash::Float64</code></li><li><code>fee_model::FeeModel</code></li><li><code>cash_balances::Dict{String,Float64}</code></li><li><code>portfolios::Dict{String,Portfolio}</code></li><li><code>open_orders::Dict{String,Queue{Order}}</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.create_portfolio!" href="#SaguaroTrader.create_portfolio!"><code>SaguaroTrader.create_portfolio!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">function create_portfolio!(
    broker::Broker,
    initial_cash::Real;
    name::String = &quot;&quot;,
    portfolio_id::String = string(UUIDs.uuid1()),
)</code></pre><pre><code class="language-julia hljs">function create_portfolio!(
    broker::Broker;
    name::String = &quot;&quot;,
    portfolio_id::String = string(UUIDs.uuid1()),
)</code></pre><p>Create a portolio using the broker&#39;s cash balance to fund the initial capital.</p><p><strong>Parameters</strong></p><ul><li><code>broker::Broker</code></li><li><code>initial_cash::Real</code></li><li><code>name::String = &quot;&quot;</code></li><li><code>portfolio_id::String = string(UUIDs.uuid1())</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.subscribe_funds!" href="#SaguaroTrader.subscribe_funds!"><code>SaguaroTrader.subscribe_funds!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">subscribe_funds!(broker::Broker, amount::Real)</code></pre><pre><code class="language-julia hljs">subscribe_funds!(broker::Broker, amount::Real, currency::String)</code></pre><p>Add funds to broker</p><p><strong>Parameters</strong></p><ul><li><code>broker::Broker</code></li><li><code>amount::Real</code></li><li><code>currency::String</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.withdraw_funds!" href="#SaguaroTrader.withdraw_funds!"><code>SaguaroTrader.withdraw_funds!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">withdraw_funds!(broker::Broker, amount::Real)</code></pre><pre><code class="language-julia hljs">withdraw_funds!(broker::Broker, amount::Real, currency::String)</code></pre><p>Withdraw funds from broker</p><p><strong>Parameters</strong></p><ul><li><code>broker::Broker</code></li><li><code>amount::Real</code></li><li><code>currency::String</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.subscribe_funds_to_portfolio!" href="#SaguaroTrader.subscribe_funds_to_portfolio!"><code>SaguaroTrader.subscribe_funds_to_portfolio!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">subscribe_funds_to_portfolio!(broker::Broker, portfolio_id::String, amount::Real)</code></pre><p>Add funds to portfolio from the broker</p><p><strong>Parameters</strong></p><ul><li><code>broker::Broker</code></li><li><code>portfolio_id::String</code></li><li><code>amount::Real</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.withdraw_funds_from_portfolio!" href="#SaguaroTrader.withdraw_funds_from_portfolio!"><code>SaguaroTrader.withdraw_funds_from_portfolio!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">withdraw_funds_from_portfolio!(broker::Broker, portfolio_id::String, amount::Real)</code></pre><p>Withdraw funds from portfolio into the broker</p><p><strong>Parameters</strong></p><ul><li><code>broker::Broker</code></li><li><code>portfolio_id::String</code></li><li><code>amount::Real</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><h1 id="Order-Sizer"><a class="docs-heading-anchor" href="#Order-Sizer">Order Sizer</a><a id="Order-Sizer-1"></a><a class="docs-heading-anchor-permalink" href="#Order-Sizer" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.OrderSizer" href="#SaguaroTrader.OrderSizer"><code>SaguaroTrader.OrderSizer</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Create target asset quantities for portfolios</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.DollarWeightedOrderSizer" href="#SaguaroTrader.DollarWeightedOrderSizer"><code>SaguaroTrader.DollarWeightedOrderSizer</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Create target portfolio quantities using the total equity available to the order sizer.</p><p><strong>Fields</strong></p><ul><li><code>broker::Broker</code></li><li><code>portfolio_id::String</code></li><li><code>cash_buffer_percentage::Float64=0.05</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.LongShortOrderSizer" href="#SaguaroTrader.LongShortOrderSizer"><code>SaguaroTrader.LongShortOrderSizer</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Create target portfolio quantities using the total equity available to the order sizer.</p><p><strong>Fields</strong></p><ul><li><code>broker::Broker</code></li><li><code>portfolio_id::String</code></li><li><code>gross_leverage::Float64=1.0</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><h1 id="Portfolio-Construction-Model"><a class="docs-heading-anchor" href="#Portfolio-Construction-Model">Portfolio Construction Model</a><a id="Portfolio-Construction-Model-1"></a><a class="docs-heading-anchor-permalink" href="#Portfolio-Construction-Model" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.PortfolioConstructionModel" href="#SaguaroTrader.PortfolioConstructionModel"><code>SaguaroTrader.PortfolioConstructionModel</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Struct needed to generate target portfolio weights</p><p><strong>Fields</strong></p><ul><li><code>broker::Broker</code></li><li><code>portfolio_id::String</code></li><li><code>universe::Universe</code></li><li><code>order_sizer::OrderSizer</code></li><li><code>portfolio_optimizer::PortfolioOptimizer</code></li><li><code>alpha_model::AlphaModel</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><h1 id="Rebalance"><a class="docs-heading-anchor" href="#Rebalance">Rebalance</a><a id="Rebalance-1"></a><a class="docs-heading-anchor-permalink" href="#Rebalance" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.Rebalance" href="#SaguaroTrader.Rebalance"><code>SaguaroTrader.Rebalance</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Rebalance periods for backtesting</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.BuyAndHoldRebalance" href="#SaguaroTrader.BuyAndHoldRebalance"><code>SaguaroTrader.BuyAndHoldRebalance</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Only rebalance at the start date</p><p><strong>Fields</strong></p><ul><li><code>start_dt::DateTime</code></li><li><code>rebalances::Vector{DateTime}</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.DailyRebalance" href="#SaguaroTrader.DailyRebalance"><code>SaguaroTrader.DailyRebalance</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Rebalance daily</p><p><strong>Fields</strong></p><ul><li><code>start_date::Date</code></li><li><code>end_date::Date</code></li><li><code>market_time::DateTime</code></li><li><code>rebalances::Vector{DateTime}</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SaguaroTrader.MonthlyRebalance" href="#SaguaroTrader.MonthlyRebalance"><code>SaguaroTrader.MonthlyRebalance</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Rebalance monthly</p><p><strong>Fields</strong></p><ul><li><code>start_date::Date</code></li><li><code>end_date::Date</code></li><li><code>market_time::DateTime</code></li><li><code>rebalances::Vector{DateTime}</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SaguaroCapital/SaguaroTrader.jl.git">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../examples/">Examples »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Wednesday 12 July 2023 23:03">Wednesday 12 July 2023</span>. Using Julia version 1.9.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
